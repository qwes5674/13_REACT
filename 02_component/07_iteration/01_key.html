<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id = "root"></div>

    
    <script type = "text/babel">
        
        // 배열을 이용해서 반복적인 컴포넌트를 랜더링 하는 방법을 살펴보자

        // 배열의 문법 arr.map(callback) -> map은 안에있는 요소만큼 수를 반복시킴
        // - callback함수의 파라미터로 전달된 배열 내 각 요소를 원하는 규칙에 따라 변환후
        // 그 결과로 새로운 배열을 반환해준다.

        // callback : 새로운 배열 요소를 생성하는 규칙을 담은 함수로 파라미터는 3가지를 가질 수 있다.
        // - currentValue : 현재 처리하고 있는 요소
        // - index : 현재 처리하고 있는 요소의 index값
        // - array : 현재 처리하고 있는 원본 배열

        /* 배열의 map 메소드 연습 */
        // const numbers = [1,2,3,4,5];
        // const results = numbers.map(num => num * num); // (콜백함수) 배열의 있는것을 하나씩 꺼낸다음 반복해서 처리후 다시 넣는다.
        // console.log(results); // [1,4,9,16,25]
        
        // const fruit = ['사과','바나나','수박']
        // fruit.map((currentValue,index,array) => {
        //     console.log(currentValue);
        //     console.log(index);
        //     console.log(array);
        // })

        const names = ['홍길동','유관순','윤봉길','이순신','임꺽정'];
        

        function Items (props) {
           
            const names = props.names;
            // console.log(props);
            // const {names} =props;
            // console.log(names);
            

            // name은 list요소 , key값 -> index => key = {index}
            // return(
            //     <ul>
            //         {props.names.map((name,index) => <li key={index}>{name}</li>)} 
            //     </ul>
            // )

            return(
                // 컴포넌트를 반복시키는 방법
                // map을 통해 새로운 배열을 만들 수 있어야 한다.
                <ul>
                    {names.map((name, index) => <NameLi name={name} key={index}></NameLi>)}
                </ul>
            )
        }

        // name을 출력할 컴포넌트
        function NameLi (props){
            return <li>{props.name}</li>
        }

      
  
        ReactDOM.createRoot(document.getElementById('root')).render(<Items names={names}/>);
        // 왼쪽은 props에 들어갈 names(다른 이름 사용가능) , 오른쪽은 본인이 정한 names
    </script>
   
    <!-- 
    key란?
    리엑트에서 key는 컴포넌트 배열을 렌더링 했을 때 어떤 원소에 변동이 있는지를 알아내기 위해서 사용하는
    식별자 역할을 ㅎ나다.
    key가 존재하지 않을 때는 가상 DOM이 실제 DOM과 비교하는 (diff) 과정에서 리스트를 순차적으로 다 
    비교해가며 변화를 감지한다.
    하지만 key가 존재한다면 이 값을 이용하여 어떤 변화가 일어났는지를 더 빨리 감지할 수 있다.
    
    일반적으로 db에서 조회한 데이터인 경우 pk컬럼값을 key로 설정한다.

    -->

</body>
</html>